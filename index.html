
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>A Library for Representing Belief States &mdash; beliefs 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="beliefs 1.0 documentation" href="#" />
    <link rel="next" title="Beliefstate" href="beliefstate.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="beliefstate.html" title="Beliefstate"
             accesskey="N">next</a> |</li>
        <li><a href="#">beliefs 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="a-library-for-representing-belief-states">
<h1>A Library for Representing Belief States<a class="headerlink" href="#a-library-for-representing-belief-states" title="Permalink to this headline">¶</a></h1>
<p><strong>beliefs</strong> is a Python v2 library that was developed by <a class="reference external" href="http://web.media.mit.edu/~dustin/">Dustin Smith</a> as part of his PhD research on natural language processing.  It is covered under the <a class="reference external" href="http://www.gnu.org/licenses/gpl-3.0.html">GPLv3 license</a>, which (in short)  means it is open source and all derivations must remain so.</p>
<blockquote>
<div><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Release:</th><td class="field-body">1.0</td>
</tr>
<tr class="field-even field"><th class="field-name">Date:</th><td class="field-body">August 04, 2013</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="common-operations-on-belief-states">
<h1>Common operations on Belief States<a class="headerlink" href="#common-operations-on-belief-states" title="Permalink to this headline">¶</a></h1>
<p>Before you can use this library you must <a class="reference external" href="https://github.com/EventTeam/beliefs">download it</a> and add it to your Python&#8217;s import path.  When you have done this, you will be able to import it and start using belief states:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">beliefs</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>Belief states are <em>about</em> a referential domain, so you want to initialize them with respect to a referential domain:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">r</span> <span class="o">=</span> <span class="n">ReferentialDomain</span><span class="p">()</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">BeliefState</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
</pre></div>
</div>
<p>A <strong>referential domain</strong> is any class that has a list of referents, each an instance of <a class="reference internal" href="dicts.html#dicts.DictCell" title="dicts.DictCell"><tt class="xref py py-class docutils literal"><span class="pre">dicts.DictCell</span></tt></a>, accessible by calling <cite>r.cells</cite>. In the next section, I will talk about how to defined a referential domain.</p>
<p>One way to visualize the intensional content of a belief state is to call <a class="reference internal" href="beliefstate.html#beliefstate.BeliefState.to_latex" title="beliefstate.BeliefState.to_latex"><tt class="xref py py-meth docutils literal"><span class="pre">BeliefState.to_latex()</span></tt></a> to produce an attribute-value matrix, which when rendered looks like this:</p>
<img alt="empy_beliefstate_avm.png" src="empy_beliefstate_avm.png" />
<p>We can compute the size of the belief state, by calling <cite>b1.size()</cite> and it will return 63.  Because our referential domain, <span class="math">\(R\)</span>, has 6 members, and an empty belief state will have <span class="math">\(2^{|R|}-1\)</span> possible members.  These are only implicitly represented.  If we want to enumerate the denotation of the belief state, we can call <a class="reference internal" href="beliefstate.html#beliefstate.BeliefState.iter_referents" title="beliefstate.BeliefState.iter_referents"><tt class="xref py py-meth docutils literal"><span class="pre">BeliefState.iter_referents()</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">b</span><span class="o">.</span><span class="n">iter_referents</span><span class="p">()</span>  <span class="c"># returns iter object</span>

<span class="c"># loops over the iterator of just the referent&#39;s indices</span>
<span class="k">for</span> <span class="n">targetset</span> <span class="ow">in</span> <span class="n">b</span><span class="o">.</span><span class="n">iter_referents_tuples</span><span class="p">():</span>
  <span class="k">print</span> <span class="n">targetset</span>
</pre></div>
</div>
<p>If we want to add a property to the belief state, we can do so by using the <a class="reference internal" href="beliefstate.html#beliefstate.BeliefState.merge" title="beliefstate.BeliefState.merge"><tt class="xref py py-meth docutils literal"><span class="pre">BeliefState.merge()</span></tt></a> method.  This method requires two arguments, a <cite>path</cite> and a <cite>value</cite>.   <cite>path</cite> should be a list that specifies the component that should be updated, and <cite>value</cite> should be an instance of a <tt class="xref py py-class docutils literal"><span class="pre">cells.Cell</span></tt>.  For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">value</span> <span class="o">=</span> <span class="n">IntervalCell</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">b</span><span class="o">.</span><span class="n">merge</span><span class="p">([</span><span class="s">&#39;target&#39;</span><span class="p">,</span> <span class="s">&#39;size&#39;</span><span class="p">],</span> <span class="n">value</span><span class="p">)</span>
</pre></div>
</div>
<p>If the corresponding path doesn&#8217;t exist (as it doesn&#8217;t here), the belief state will add it and we can now access it:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">b</span><span class="p">[</span><span class="s">&#39;target&#39;</span><span class="p">][</span><span class="s">&#39;size&#39;</span><span class="p">]</span>  <span class="c"># =&gt; [5, 100]</span>
<span class="n">b</span><span class="o">.</span><span class="n">size</span><span class="p">()</span> <span class="c"># =&gt; 63</span>
</pre></div>
</div>
<p>We can also change the belief state&#8217;s meta-data in a similar way:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">b</span><span class="o">.</span><span class="n">merge</span><span class="p">([</span><span class="s">&#39;targetset_arity&#39;</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>   <span class="c"># 2 gets typecast to IntervalCell(2, 2)</span>
<span class="n">b</span><span class="o">.</span><span class="n">size</span><span class="p">()</span> <span class="c"># =&gt; 15</span>
</pre></div>
</div>
<p>Because <span class="math">\({6\choose 2}=15\)</span>;  there are 15 unique target sets of size two in this belief state.</p>
<p>Another useful method is <a class="reference internal" href="beliefstate.html#beliefstate.BeliefState.copy" title="beliefstate.BeliefState.copy"><tt class="xref py py-meth docutils literal"><span class="pre">BeliefState.copy()</span></tt></a>, which is what you&#8217;ll use to create a copy of the belief state.  It&#8217;s highly optimized (but there&#8217;s still room for improvement!) so that only the mutable components of its cells are copied by value, the rest are copied by reference.  You will want to call this whenever you generate a successor, which one does to search over belief states.</p>
</div>
<div class="section" id="creating-a-referential-domain">
<h1>Creating a referential domain<a class="headerlink" href="#creating-a-referential-domain" title="Permalink to this headline">¶</a></h1>
<p>The elements in the  referential domain must be represented by objects that are instances of <a class="reference internal" href="dicts.html#dicts.DictCell" title="dicts.DictCell"><tt class="xref py py-class docutils literal"><span class="pre">dicts.DictCell</span></tt></a>&#8212;essentially they are a collection of (potentially nested) attribute-value pairs.  Beneath the hood, belief states are <a class="reference internal" href="dicts.html#dicts.DictCell" title="dicts.DictCell"><tt class="xref py py-class docutils literal"><span class="pre">dicts.DictCell</span></tt></a>; however only its properties <cite>target</cite> and <cite>distractor</cite> are explicitly compared with the referential domain.</p>
<p>Another way to author the referential domain, is to use the <tt class="xref py py-class docutils literal"><span class="pre">Referent</span></tt> class. It&#8217;s a subclass of <a class="reference internal" href="dicts.html#dicts.DictCell" title="dicts.DictCell"><tt class="xref py py-class docutils literal"><span class="pre">dicts.DictCell</span></tt></a> with some additional object-oriented features, which allow you to use inheritance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">beliefs.referent</span> <span class="kn">import</span> <span class="o">*</span>

<span class="k">class</span> <span class="nc">SpatialObject</span><span class="p">(</span><span class="n">Referent</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Represents the properties of an object located in 3D space &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">SpatialObject</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x_position</span> <span class="o">=</span> <span class="n">IntervalCell</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y_position</span> <span class="o">=</span> <span class="n">IntervalCell</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">z_position</span> <span class="o">=</span> <span class="n">IntervalCell</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">PhysicalObject</span><span class="p">(</span><span class="n">SpatialObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Represents objects that occupy space&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">PhysicalObject</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">length</span> <span class="o">=</span> <span class="n">IntervalCell</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">IntervalCell</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">IntervalCell</span><span class="p">()</span>

<span class="k">class</span> <span class="nc">LanguageProducer</span><span class="p">(</span><span class="n">Referent</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Something that produces a natural language&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">LanguageProducer</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">language</span> <span class="o">=</span> <span class="n">SetIntersectionCell</span><span class="p">([</span><span class="s">&#39;en&#39;</span><span class="p">,</span> <span class="s">&#39;fr&#39;</span><span class="p">,</span> <span class="s">&#39;de&#39;</span><span class="p">,</span> <span class="s">&#39;pt&#39;</span><span class="p">,</span> <span class="s">&#39;sp&#39;</span><span class="p">])</span>

<span class="k">class</span> <span class="nc">House</span><span class="p">(</span><span class="n">SpatialObject</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A dwelling&quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">House</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bathrooms</span> <span class="o">=</span> <span class="n">IntervalCell</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Human</span><span class="p">(</span><span class="n">PhysicalObject</span><span class="p">,</span> <span class="n">LanguageProducer</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; A physical object that produces speech and has a home &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Human</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">StringCell</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">possessions</span> <span class="o">=</span> <span class="n">DictCell</span><span class="p">({</span><span class="s">&#39;home&#39;</span><span class="p">:</span> <span class="n">House</span><span class="p">()})</span>


<span class="n">TaxonomyCell</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">__name__</span><span class="p">])</span>
</pre></div>
</div>
<p>That <cite>TaxonomyCell.initialize</cite> weirdness at the end will automatically generate a <a class="reference internal" href="posets.html#posets.PartialOrderedCell" title="posets.PartialOrderedCell"><tt class="xref py py-class docutils literal"><span class="pre">posets.PartialOrderedCell</span></tt></a> property called <cite>kind</cite> with the inheritance structure of your <tt class="xref py py-class docutils literal"><span class="pre">Referent</span></tt> subclasses  Each entity will get its class name as its <cite>kind</cite>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">dustin</span> <span class="o">=</span> <span class="n">Human</span><span class="p">()</span>
<span class="n">dustin</span><span class="p">[</span><span class="s">&#39;kind&#39;</span><span class="p">]</span> <span class="c">#=&gt; Human</span>
<span class="n">dustin</span><span class="p">[</span><span class="s">&#39;kind&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">to_dotfile</span><span class="p">()</span>  <span class="c">#=&gt; writes TaxonomyCell.dot</span>
</pre></div>
</div>
<p>By calling <a class="reference internal" href="posets.html#posets.PartialOrderedCell.to_dotfile" title="posets.PartialOrderedCell.to_dotfile"><tt class="xref py py-meth docutils literal"><span class="pre">posets.PartialOrderedCell.to_dotfile()</span></tt></a>, a DOT file will appear that shows the inheritance structure:</p>
<img alt="TaxonomyCell.png" src="TaxonomyCell.png" />
<div class="section" id="cell-types">
<h2>Cell types<a class="headerlink" href="#cell-types" title="Permalink to this headline">¶</a></h2>
<p>These are type subclasses of <tt class="xref py py-class docutils literal"><span class="pre">Cell</span></tt> data containers, which accumulate and maintain the consistency of <em>partial information</em> updates (via <cite>merge()</cite> operations).</p>
<ul class="simple">
<li><a class="reference internal" href="bools.html#bools.BoolCell" title="bools.BoolCell"><tt class="xref py py-class docutils literal"><span class="pre">bools.BoolCell</span></tt></a> three-valued logic of <cite>True</cite>, <cite>False</cite>, and <cite>Unknown</cite>.</li>
<li><a class="reference internal" href="dicts.html#dicts.DictCell" title="dicts.DictCell"><tt class="xref py py-class docutils literal"><span class="pre">dicts.DictCell</span></tt></a> a labeled set, like a Python <cite>dict</cite> that pairs attributes with cell values.</li>
<li><a class="reference internal" href="numeric.html#numeric.IntervalCell" title="numeric.IntervalCell"><tt class="xref py py-class docutils literal"><span class="pre">numeric.IntervalCell</span></tt></a> a bounded interval or cardinal number</li>
<li><tt class="xref py py-class docutils literal"><span class="pre">sets.SetIntersectionCell</span></tt> a set, unordered collection of symbols, where merges are intersective and information is thereby monotonically decreasing</li>
<li><a class="reference internal" href="lists.html#lists.LinearOrderedCell" title="lists.LinearOrderedCell"><tt class="xref py py-class docutils literal"><span class="pre">lists.LinearOrderedCell</span></tt></a> a bounded sequence of ordered symbols</li>
<li><a class="reference internal" href="lists.html#lists.PrefixCell" title="lists.PrefixCell"><tt class="xref py py-class docutils literal"><span class="pre">lists.PrefixCell</span></tt></a> maintains sequences with shared elements</li>
<li><a class="reference internal" href="posets.html#posets.PartialOrderedCell" title="posets.PartialOrderedCell"><tt class="xref py py-class docutils literal"><span class="pre">posets.PartialOrderedCell</span></tt></a> maintains a taxonomy of information</li>
</ul>
<p>Specific types of classes are expected to only be merged with cells of their same type.  There are a few exceptions where the merged value is first converted into a cell of the corresponding type.</p>
<p>This library is being developed at &lt;<a class="reference external" href="https://github.com/EventTeam/beliefs">https://github.com/EventTeam/beliefs</a>&gt;.</p>
</div>
</div>
<div class="section" id="all-modules">
<h1>All modules<a class="headerlink" href="#all-modules" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="beliefstate.html">Beliefstate</a></li>
<li class="toctree-l1"><a class="reference internal" href="bools.html">Bools</a></li>
<li class="toctree-l1"><a class="reference internal" href="colors.html">Colors</a></li>
<li class="toctree-l1"><a class="reference internal" href="dicts.html">Dicts</a></li>
<li class="toctree-l1"><a class="reference internal" href="lists.html">Lists</a></li>
<li class="toctree-l1"><a class="reference internal" href="sets.html">Sets</a></li>
<li class="toctree-l1"><a class="reference internal" href="numeric.html">Numeric</a></li>
<li class="toctree-l1"><a class="reference internal" href="posets.html">Posets</a></li>
<li class="toctree-l1"><a class="reference internal" href="spatial.html">Spatial</a></li>
<li class="toctree-l1"><a class="reference internal" href="strings.html">Strings</a></li>
</ul>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="py-modindex.html"><em>Module Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">A Library for Representing Belief States</a></li>
<li><a class="reference internal" href="#common-operations-on-belief-states">Common operations on Belief States</a></li>
<li><a class="reference internal" href="#creating-a-referential-domain">Creating a referential domain</a><ul>
<li><a class="reference internal" href="#cell-types">Cell types</a></li>
</ul>
</li>
<li><a class="reference internal" href="#all-modules">All modules</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  <h4>Next topic</h4>
  <p class="topless"><a href="beliefstate.html"
                        title="next chapter">Beliefstate</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/index.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="beliefstate.html" title="Beliefstate"
             >next</a> |</li>
        <li><a href="#">beliefs 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Dustin Smith, Nicolas Bravo.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>